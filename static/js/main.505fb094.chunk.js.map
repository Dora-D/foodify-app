{"version":3,"sources":["components/Header/Header.tsx","assets/imgs/picture-icon.svg","components/DishCard/DishCard.tsx","assets/imgs/close-icon.svg","components/Modal/Modal.tsx","utils/getDishesFromLocalStorage.ts","utils/setDishToLocalStorage.ts","assets/imgs/plus-icon.svg","pages/Favourites/Favourites.tsx","pages/Favourites/useFavourites.ts","components/ButtonGroup/ButtonGroup.tsx","utils/getRandomRecipe.ts","pages/RandomDish/useRandomDish.ts","utils/taransformRecipe.js","pages/RandomDish/RandomDish.tsx","components/App/App.tsx","index.tsx"],"names":["Header","useState","isMd","setIsMd","showMenu","setShowMenu","windowInnerWidth","window","innerWidth","portal","document","getElementById","hendleMenu","prev","className","to","onClick","createPortal","HeaderModal","useEffect","body","style","overflowY","DishCard","dishImg","title","recipe","src","pictureIcon","alt","Modal","hendleModal","onSubmit","useForm","register","handleSubmit","errors","formState","type","closeIcon","required","minLength","placeholder","getDishesFromLocalStorage","items","localStorage","getItem","JSON","parse","setDishToLocalStorage","dish","dishes","push","setItem","stringify","Favourites","favouritesDishes","setFavouritesDishes","isModal","setIsModal","prevState","newDish","id","Date","now","console","log","useFavourites","map","plusIcon","ButtonGroup","onSkip","onLike","getRandomRecipe","a","fetch","response","json","useRandomDish","randomDish","setrandomDish","getNewRandomRecipe","then","data","meals","idMeal","strMealThumb","strMeal","strInstructions","taransformRecipe","RandomDish","App","path","component","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.505fb094.chunk.js","sourcesContent":["import { FC, useEffect, useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./header.scss\";\r\n\r\nexport const Header: FC = () => {\r\n  const [isMd, setIsMd] = useState<boolean>(false);\r\n  const [showMenu, setShowMenu] = useState<boolean>(false);\r\n\r\n  const windowInnerWidth = window.innerWidth;\r\n\r\n  const portal = document.getElementById(\"portal\") as HTMLElement;\r\n\r\n  if (windowInnerWidth < 960 && !isMd) {\r\n    setIsMd(true);\r\n  }\r\n\r\n  const hendleMenu = () => {\r\n    setShowMenu((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <nav>\r\n        <ul className={isMd ? \"disabled\" : \"\"}>\r\n          <li>\r\n            <Link to=\"/\">Random Dish</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/favourites\">Favourites</Link>\r\n          </li>\r\n        </ul>\r\n        {isMd && (\r\n          <button\r\n            onClick={hendleMenu}\r\n            className=\"header__mobile-button mobile-button\"\r\n          >\r\n            <i className=\"fas fa-bars\"></i>\r\n          </button>\r\n        )}\r\n      </nav>\r\n      {showMenu &&\r\n        createPortal(<HeaderModal hendleMenu={hendleMenu} />, portal)}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport const HeaderModal = ({ hendleMenu }: { hendleMenu: () => void }) => {\r\n  useEffect(() => {\r\n    document.body.style.overflowY = \"hidden\";\r\n\r\n    return () => {\r\n      document.body.style.overflowY = \"auto\";\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"header-modal-overlay\" onClick={hendleMenu}>\r\n      <div className=\"header-modal\">\r\n        <div className=\"header-modal__wrapper\">\r\n          <button className=\"header-modal__mobile-button mobile-button\">\r\n            <i className=\"fas fa-bars\"></i>\r\n          </button>\r\n        </div>\r\n        <nav>\r\n          <ul>\r\n            <li>\r\n              <Link to=\"/\">Random Dish</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/favourites\">Favourites</Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n//959\r\n","export default __webpack_public_path__ + \"static/media/picture-icon.a13ad169.svg\";","import { FC } from \"react\";\r\n\r\nimport { IDish } from \"../../static\";\r\nimport pictureIcon from \"../../assets/imgs/picture-icon.svg\";\r\nimport \"./dish-card.scss\";\r\n\r\nexport const DishCard: FC<IDish> = ({ dishImg, title, recipe }) => {\r\n  return (\r\n    <div className=\"dish-card\">\r\n      <div className=\"dish-card__img-wrapper\">\r\n        <img src={dishImg ? dishImg : pictureIcon} alt=\"Dish Img\" />\r\n      </div>\r\n      <div className=\"dish-card__info\">\r\n        <h2>{title}</h2>\r\n        <p>{recipe}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/close-icon.a9add365.svg\";","import { FC, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport closeIcon from \"../../assets/imgs/close-icon.svg\";\r\nimport \"./modal.scss\";\r\n\r\ninterface IModal {\r\n  hendleModal: () => void;\r\n  onSubmit: (e: any) => void;\r\n}\r\n\r\nexport const Modal: FC<IModal> = ({ hendleModal, onSubmit }) => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflowY = \"hidden\";\r\n\r\n    return () => {\r\n      document.body.style.overflowY = \"auto\";\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <form className=\"modal\" onSubmit={handleSubmit(onSubmit)}>\r\n        <button\r\n          className=\"modal__close-modal\"\r\n          type=\"button\"\r\n          onClick={hendleModal}\r\n        >\r\n          <img src={closeIcon} alt=\"close-icon\" />\r\n        </button>\r\n        <h1>Add custom dish</h1>\r\n        <input\r\n          {...register(\"title\", { required: true, minLength: 3 })}\r\n          type=\"text\"\r\n          placeholder=\"Dish title\"\r\n        />\r\n        {errors.title && (\r\n          <span>This entry cannot be less than 3 characters</span>\r\n        )}\r\n        <textarea\r\n          {...register(\"recipe\", { required: true, minLength: 5 })}\r\n          placeholder=\"Dish description...\"\r\n        />\r\n        {errors.recipe && (\r\n          <span>This entry cannot be less than 5 characters</span>\r\n        )}\r\n        <button type=\"submit\" className=\"modal__submit\">\r\n          Add custom dish\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","export const getDishesFromLocalStorage = () => {\r\n  const items = localStorage.getItem(\"dishes\");\r\n  if (items) {\r\n    return JSON.parse(items);\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n","import { IDish } from \"../static\";\r\nimport { getDishesFromLocalStorage } from \"./getDishesFromLocalStorage\";\r\n\r\nexport const setDishToLocalStorage = (dish: IDish) => {\r\n  const dishes = getDishesFromLocalStorage();\r\n  dishes.push(dish);\r\n  localStorage.setItem(\"dishes\", JSON.stringify(dishes));\r\n};\r\n","export default __webpack_public_path__ + \"static/media/plus-icon.cb2b492d.svg\";","import { FC } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport { DishCard } from \"../../components/DishCard/DishCard\";\r\nimport { Modal } from \"../../components/Modal/Modal\";\r\n\r\nimport { useFavourites } from \"./useFavourites\";\r\nimport { IDish } from \"../../static\";\r\nimport plusIcon from \"../../assets/imgs/plus-icon.svg\";\r\nimport \"./favourites.scss\";\r\n\r\nexport const Favourites: FC = () => {\r\n  const { favouritesDishes, isModal, portal, onSubmit, hendleModal } =\r\n    useFavourites();\r\n\r\n  return (\r\n    <div className=\"favourites\">\r\n      {favouritesDishes.map((dish: IDish) => (\r\n        <DishCard key={dish.id ? dish.id : dish.title + Date.now()} {...dish} />\r\n      ))}\r\n      <button className=\"favourites__add-recipe\" onClick={hendleModal}>\r\n        <img src={plusIcon} alt=\"Plus Recipe\" />\r\n      </button>\r\n      {isModal &&\r\n        createPortal(\r\n          <Modal hendleModal={hendleModal} onSubmit={onSubmit} />,\r\n          portal\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { IDish } from \"../../static\";\r\n\r\nimport { getDishesFromLocalStorage } from \"../../utils/getDishesFromLocalStorage\";\r\nimport { setDishToLocalStorage } from \"../../utils/setDishToLocalStorage\";\r\n\r\nexport const useFavourites = () => {\r\n  const [favouritesDishes, setFavouritesDishes] = useState<IDish[]>(\r\n    getDishesFromLocalStorage()\r\n  );\r\n\r\n  const [isModal, setIsModal] = useState<boolean>(false);\r\n\r\n  const portal = document.getElementById(\"portal\") as HTMLElement;\r\n\r\n  const hendleModal = () => setIsModal((prevState) => !prevState);\r\n\r\n  const onSubmit = ({ title, recipe }: { title: string; recipe: string }) => {\r\n    const newDish = {\r\n      id: Date.now(),\r\n      title: title,\r\n      recipe: recipe,\r\n    };\r\n    console.log(recipe);\r\n    setFavouritesDishes((prevState) => [...prevState, newDish]);\r\n    setDishToLocalStorage(newDish);\r\n    hendleModal();\r\n  };\r\n\r\n  return { favouritesDishes, isModal, portal, onSubmit, hendleModal };\r\n};\r\n","import { FC } from \"react\";\r\n\r\nimport \"./button-group.scss\";\r\n\r\ninterface IButtonGroup {\r\n  onSkip: () => void;\r\n  onLike: () => void;\r\n}\r\n\r\nexport const ButtonGroup: FC<IButtonGroup> = ({ onSkip, onLike }) => (\r\n  <div className=\"button-group\">\r\n    <button onClick={onSkip}>Skip</button>\r\n    <button onClick={onLike}>Like</button>\r\n  </div>\r\n);\r\n","export const getRandomRecipe = async () => {\r\n  const response = await fetch(\r\n    \"https://www.themealdb.com/api/json/v1/1/random.php\"\r\n  );\r\n\r\n  return await response.json();\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { IDish } from \"../../static\";\r\nimport { setDishToLocalStorage } from \"../../utils/setDishToLocalStorage\";\r\nimport { taransformRecipe } from \"../../utils/taransformRecipe.js\";\r\nimport { getRandomRecipe } from \"../../utils/getRandomRecipe\";\r\n\r\nexport const useRandomDish = () => {\r\n  const [randomDish, setrandomDish] = useState<IDish>({\r\n    id: \"\",\r\n    title: \"\",\r\n    recipe: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    getNewRandomRecipe();\r\n  }, []);\r\n\r\n  const getNewRandomRecipe = () => {\r\n    getRandomRecipe().then((data) => {\r\n      setrandomDish(taransformRecipe(data));\r\n    });\r\n  };\r\n\r\n  const onSkip = () => {\r\n    getNewRandomRecipe();\r\n  };\r\n\r\n  const onLike = () => {\r\n    setDishToLocalStorage(randomDish);\r\n    getNewRandomRecipe();\r\n  };\r\n\r\n  return { randomDish, onSkip, onLike };\r\n};\r\n","export const taransformRecipe = ({ meals: [dish] }) => {\r\n  console.log(dish);\r\n  return {\r\n    id: dish.idMeal || Date.now(),\r\n    dishImg: dish.strMealThumb,\r\n    title: dish.strMeal,\r\n    recipe: dish.strInstructions,\r\n  };\r\n};\r\n","import { FC } from \"react\";\r\n\r\nimport { DishCard } from \"../../components/DishCard/DishCard\";\r\nimport { ButtonGroup } from \"../../components/ButtonGroup/ButtonGroup\";\r\n\r\nimport { useRandomDish } from \"./useRandomDish\";\r\nimport \"./random-dish.scss\";\r\n\r\nexport const RandomDish: FC = () => {\r\n  const { randomDish, onSkip, onLike } = useRandomDish();\r\n  return (\r\n    <div className=\"random-dish\">\r\n      <div className=\"random-dish__wrapper\">\r\n        <DishCard {...randomDish} />\r\n        <ButtonGroup onLike={onLike} onSkip={onSkip} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { FC } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport { Header } from \"../Header/Header\";\r\nimport { Favourites } from \"../../pages/Favourites/Favourites\";\r\nimport { RandomDish } from \"../../pages/RandomDish/RandomDish\";\r\n\r\nexport const App: FC = () => (\r\n  <Router>\r\n    <Header />\r\n    <Switch>\r\n      <Route path=\"/\" component={RandomDish} exact />\r\n      <Route path=\"/favourites\" component={Favourites} />\r\n    </Switch>\r\n  </Router>\r\n);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { App } from \"./components/App/App\";\r\n\r\nimport \"./index.scss\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}