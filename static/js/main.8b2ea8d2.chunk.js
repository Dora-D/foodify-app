(this["webpackJsonpfoodify-app"]=this["webpackJsonpfoodify-app"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(15),a=n.n(s),r=n(13),o=n(3),d=n(5),l=(n(30),n(1)),j=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!1),o=Object(d.a)(a,2),j=o[0],b=o[1],h=window.innerWidth,O=document.getElementById("portal");h<960&&!n&&i(!0);var m=function(){b((function(e){return!e}))};return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("nav",{children:[Object(l.jsxs)("ul",{className:n?"disabled":"",children:[Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/",children:"Random Dish"})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/favourites",children:"Favourites"})})]}),n&&Object(l.jsx)("button",{onClick:m,className:"header__mobile-button mobile-button",children:Object(l.jsx)("i",{className:"fas fa-bars"})})]}),j&&Object(s.createPortal)(Object(l.jsx)(u,{hendleMenu:m}),O)]})},u=function(e){var t=e.hendleMenu;return Object(c.useEffect)((function(){return document.body.style.overflowY="hidden",function(){document.body.style.overflowY="auto"}}),[]),Object(l.jsx)("div",{className:"header-modal-overlay",onClick:t,children:Object(l.jsxs)("div",{className:"header-modal",children:[Object(l.jsx)("div",{className:"header-modal__wrapper",children:Object(l.jsx)("button",{className:"header-modal__mobile-button mobile-button",children:Object(l.jsx)("i",{className:"fas fa-bars"})})}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/",children:"Random Dish"})}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/favourites",children:"Favourites"})})]})})]})})},b=n(11),h=n.p+"static/media/picture-icon.a13ad169.svg",O=(n(37),function(e){var t=e.dishImg,n=e.title,c=e.recipe;return Object(l.jsxs)("div",{className:"dish-card",children:[Object(l.jsx)("div",{className:"dish-card__img-wrapper",children:Object(l.jsx)("img",{src:t||h,alt:"Dish Img"})}),Object(l.jsxs)("div",{className:"dish-card__info",children:[Object(l.jsx)("h2",{children:n}),Object(l.jsx)("p",{children:c})]})]})}),m=n(25),f=n.p+"static/media/close-icon.a9add365.svg",p=(n(39),function(e){var t=e.hendleModal,n=e.onSubmit,i=Object(m.a)(),s=i.register,a=i.handleSubmit,r=i.formState.errors;return Object(c.useEffect)((function(){return document.body.style.overflowY="hidden",function(){document.body.style.overflowY="auto"}}),[]),Object(l.jsx)("div",{className:"modal-overlay",children:Object(l.jsxs)("form",{className:"modal",onSubmit:a(n),children:[Object(l.jsx)("button",{className:"modal__close-modal",type:"button",onClick:t,children:Object(l.jsx)("img",{src:f,alt:"close-icon"})}),Object(l.jsx)("h1",{children:"Add custom dish"}),Object(l.jsx)("input",Object(b.a)(Object(b.a)({},s("title",{required:!0,minLength:3})),{},{type:"text",placeholder:"Dish title"})),r.title&&Object(l.jsx)("span",{children:"This entry cannot be less than 3 characters"}),Object(l.jsx)("textarea",Object(b.a)(Object(b.a)({},s("recipe",{required:!0,minLength:5})),{},{placeholder:"Dish description..."})),r.recipe&&Object(l.jsx)("span",{children:"This entry cannot be less than 5 characters"}),Object(l.jsx)("button",{type:"submit",className:"modal__submit",children:"Add custom dish"})]})})}),x=n(6),v=function(){var e=localStorage.getItem("dishes");return e?JSON.parse(e):[]},g=function(e){var t=v();t.push(e),localStorage.setItem("dishes",JSON.stringify(t))},N=n.p+"static/media/plus-icon.cb2b492d.svg",S=(n(40),function(){var e=function(){var e=Object(c.useState)(v()),t=Object(d.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),a=Object(d.a)(s,2),r=a[0],o=a[1],l=document.getElementById("portal"),j=function(){return o((function(e){return!e}))};return{favouritesDishes:n,isModal:r,portal:l,onSubmit:function(e){var t=e.title,n=e.recipe,c={id:Date.now(),title:t,recipe:n};console.log(n),i((function(e){return[].concat(Object(x.a)(e),[c])})),g(c),j()},hendleModal:j}}(),t=e.favouritesDishes,n=e.isModal,i=e.portal,a=e.onSubmit,r=e.hendleModal;return Object(l.jsxs)("div",{className:"favourites",children:[t.map((function(e){return Object(l.jsx)(O,Object(b.a)({},e),e.id?e.id:e.title+Date.now())})),Object(l.jsx)("button",{className:"favourites__add-recipe",onClick:r,children:Object(l.jsx)("img",{src:N,alt:"Plus Recipe"})}),n&&Object(s.createPortal)(Object(l.jsx)(p,{hendleModal:r,onSubmit:a}),i)]})}),y=(n(41),function(e){var t=e.onSkip,n=e.onLike;return Object(l.jsxs)("div",{className:"button-group",children:[Object(l.jsx)("button",{onClick:t,children:"Skip"}),Object(l.jsx)("button",{onClick:n,children:"Like"})]})}),k=(n(42),function(){return Object(l.jsx)("div",{className:"lds-dual-ring"})}),w=n(2),_=n.n(w),D=n(10),M=function(){var e=Object(D.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.themealdb.com/api/json/v1/1/random.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)({id:"",title:"",recipe:""}),a=Object(d.a)(s,2),r=a[0],o=a[1];Object(c.useEffect)((function(){l()}),[]);var l=function(){i(!0),M().then((function(e){o(function(e){var t=Object(d.a)(e.meals,1)[0];return{id:t.idMeal||Date.now(),dishImg:t.strMealThumb,title:t.strMeal,recipe:t.strInstructions}}(e)),i(!1)}))};return{randomDish:r,isLoading:n,onSkip:function(){l()},onLike:function(){g(r),l()}}},L=(n(43),function(){var e=I(),t=e.randomDish,n=e.isLoading,c=e.onSkip,i=e.onLike;return Object(l.jsx)("div",{className:"random-dish",children:n?Object(l.jsx)(k,{}):Object(l.jsxs)("div",{className:"random-dish__wrapper",children:[Object(l.jsx)(O,Object(b.a)({},t)),Object(l.jsx)(y,{onLike:i,onSkip:c})]})})}),C=function(){return Object(l.jsxs)(r.a,{children:[Object(l.jsx)(j,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",component:L,exact:!0}),Object(l.jsx)(o.a,{path:"/favourites",component:S})]})]})};n(44);a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.8b2ea8d2.chunk.js.map