(this["webpackJsonpfoodify-app"]=this["webpackJsonpfoodify-app"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(15),a=n.n(s),r=n(13),o=n(3),l=n(6),d=(n(30),n(1)),j=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],i=t[1],a=document.getElementById("portal"),o=function(){i((function(e){return!e}))};return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsxs)("nav",{children:[Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"Random Dish"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/favourites",children:"Favourites"})})]}),Object(d.jsx)("button",{onClick:o,className:"header__mobile-button mobile-button",children:Object(d.jsx)("i",{className:"fas fa-bars"})})]}),n&&Object(s.createPortal)(Object(d.jsx)(u,{hendleMenu:o}),a)]})},u=function(e){var t=e.hendleMenu;return Object(c.useEffect)((function(){return document.body.style.overflowY="hidden",function(){document.body.style.overflowY="auto"}}),[]),Object(d.jsx)("div",{className:"header-modal-overlay",onClick:t,children:Object(d.jsxs)("div",{className:"header-modal",children:[Object(d.jsx)("div",{className:"header-modal__wrapper",children:Object(d.jsx)("button",{className:"header-modal__mobile-button mobile-button",children:Object(d.jsx)("i",{className:"fas fa-bars"})})}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"Random Dish"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/favourites",children:"Favourites"})})]})})]})})},b=n(11),h=n.p+"static/media/picture-icon.a13ad169.svg",m=(n(37),function(e){var t=e.dishImg,n=e.title,c=e.recipe;return Object(d.jsxs)("div",{className:"dish-card",children:[Object(d.jsx)("div",{className:"dish-card__img-wrapper",children:Object(d.jsx)("img",{src:t||h,alt:"Dish Img"})}),Object(d.jsxs)("div",{className:"dish-card__info",children:[Object(d.jsx)("h2",{children:n}),Object(d.jsx)("p",{children:c})]})]})}),O=n(25),f=n.p+"static/media/close-icon.a9add365.svg",p=(n(39),function(e){var t=e.hendleModal,n=e.onSubmit,i=Object(O.a)(),s=i.register,a=i.handleSubmit,r=i.formState.errors;return Object(c.useEffect)((function(){return document.body.style.overflowY="hidden",function(){document.body.style.overflowY="auto"}}),[]),Object(d.jsx)("div",{className:"modal-overlay",children:Object(d.jsxs)("form",{className:"modal",onSubmit:a(n),children:[Object(d.jsx)("button",{className:"modal__close-modal",type:"button",onClick:t,children:Object(d.jsx)("img",{src:f,alt:"close-icon"})}),Object(d.jsx)("h1",{children:"Add custom dish"}),Object(d.jsx)("input",Object(b.a)(Object(b.a)({},s("title",{required:!0,validate:function(e){return e.trim().length>2}})),{},{type:"text",placeholder:"Dish title"})),r.title&&Object(d.jsx)("span",{children:"This entry cannot be less than 3 characters"}),Object(d.jsx)("textarea",Object(b.a)(Object(b.a)({},s("recipe",{required:!0,validate:function(e){return e.trim().length>4}})),{},{placeholder:"Dish description..."})),r.recipe&&Object(d.jsx)("span",{children:"This entry cannot be less than 5 characters"}),Object(d.jsx)("button",{type:"submit",className:"modal__submit",children:"Add custom dish"})]})})}),x=n(5),v=function(){var e=localStorage.getItem("dishes");return e?JSON.parse(e):[]},g=function(e){var t=v();t.push(e),localStorage.setItem("dishes",JSON.stringify(t))},N=n.p+"static/media/plus-icon.cb2b492d.svg",y=(n(40),function(){var e=function(){var e=Object(c.useState)(v()),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),a=Object(l.a)(s,2),r=a[0],o=a[1],d=document.getElementById("portal"),j=function(){return o((function(e){return!e}))};return{favouritesDishes:n,isModal:r,portal:d,onSubmit:function(e){var t=e.title,n=e.recipe,c={id:Date.now(),title:t,recipe:n};console.log(n),i((function(e){return[].concat(Object(x.a)(e),[c])})),g(c),j()},hendleModal:j}}(),t=e.favouritesDishes,n=e.isModal,i=e.portal,a=e.onSubmit,r=e.hendleModal;return Object(d.jsxs)("div",{className:"favourites",children:[t.map((function(e){return Object(d.jsx)(m,Object(b.a)({},e),e.id?e.id:e.title+Date.now())})),Object(d.jsx)("button",{className:"favourites__add-recipe",onClick:r,children:Object(d.jsx)("img",{src:N,alt:"Plus Recipe"})}),n&&Object(s.createPortal)(Object(d.jsx)(p,{hendleModal:r,onSubmit:a}),i)]})}),S=(n(41),function(e){var t=e.onSkip,n=e.onLike;return Object(d.jsxs)("div",{className:"button-group",children:[Object(d.jsx)("button",{onClick:t,children:"Skip"}),Object(d.jsx)("button",{onClick:n,children:"Like"})]})}),k=(n(42),function(){return Object(d.jsx)("div",{className:"lds-dual-ring"})}),_=n(2),w=n.n(_),D=n(10),M=function(){var e=Object(D.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.themealdb.com/api/json/v1/1/random.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)({id:"",title:"",recipe:""}),a=Object(l.a)(s,2),r=a[0],o=a[1];Object(c.useEffect)((function(){d()}),[]);var d=function(){i(!0),M().then((function(e){o(function(e){var t=Object(l.a)(e.meals,1)[0];return{id:t.idMeal||Date.now(),dishImg:t.strMealThumb,title:t.strMeal,recipe:t.strInstructions}}(e)),i(!1)}))};return{randomDish:r,isLoading:n,onSkip:function(){d()},onLike:function(){g(r),d()}}},L=(n(43),function(){var e=I(),t=e.randomDish,n=e.isLoading,c=e.onSkip,i=e.onLike;return Object(d.jsx)("div",{className:"random-dish",children:n?Object(d.jsx)(k,{}):Object(d.jsxs)("div",{className:"random-dish__wrapper",children:[Object(d.jsx)(m,Object(b.a)({},t)),Object(d.jsx)(S,{onLike:i,onSkip:c})]})})}),C=function(){return Object(d.jsxs)(r.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",component:L,exact:!0}),Object(d.jsx)(o.a,{path:"/favourites",component:y}),Object(d.jsx)(o.a,{component:L})]})]})};n(44);a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d9a83724.chunk.js.map