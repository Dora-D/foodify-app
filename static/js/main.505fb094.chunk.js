(this["webpackJsonpfoodify-app"]=this["webpackJsonpfoodify-app"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(15),a=n.n(i),r=n(13),o=n(3),l=n(6),d=(n(30),n(1)),j=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),o=Object(l.a)(a,2),j=o[0],b=o[1],h=window.innerWidth,m=document.getElementById("portal");h<960&&!n&&s(!0);var O=function(){b((function(e){return!e}))};return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsxs)("nav",{children:[Object(d.jsxs)("ul",{className:n?"disabled":"",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"Random Dish"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/favourites",children:"Favourites"})})]}),n&&Object(d.jsx)("button",{onClick:O,className:"header__mobile-button mobile-button",children:Object(d.jsx)("i",{className:"fas fa-bars"})})]}),j&&Object(i.createPortal)(Object(d.jsx)(u,{hendleMenu:O}),m)]})},u=function(e){var t=e.hendleMenu;return Object(c.useEffect)((function(){return document.body.style.overflowY="hidden",function(){document.body.style.overflowY="auto"}}),[]),Object(d.jsx)("div",{className:"header-modal-overlay",onClick:t,children:Object(d.jsxs)("div",{className:"header-modal",children:[Object(d.jsx)("div",{className:"header-modal__wrapper",children:Object(d.jsx)("button",{className:"header-modal__mobile-button mobile-button",children:Object(d.jsx)("i",{className:"fas fa-bars"})})}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/",children:"Random Dish"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:"/favourites",children:"Favourites"})})]})})]})})},b=n(11),h=n.p+"static/media/picture-icon.a13ad169.svg",m=(n(37),function(e){var t=e.dishImg,n=e.title,c=e.recipe;return Object(d.jsxs)("div",{className:"dish-card",children:[Object(d.jsx)("div",{className:"dish-card__img-wrapper",children:Object(d.jsx)("img",{src:t||h,alt:"Dish Img"})}),Object(d.jsxs)("div",{className:"dish-card__info",children:[Object(d.jsx)("h2",{children:n}),Object(d.jsx)("p",{children:c})]})]})}),O=n(25),f=n.p+"static/media/close-icon.a9add365.svg",p=(n(39),function(e){var t=e.hendleModal,n=e.onSubmit,s=Object(O.a)(),i=s.register,a=s.handleSubmit,r=s.formState.errors;return Object(c.useEffect)((function(){return document.body.style.overflowY="hidden",function(){document.body.style.overflowY="auto"}}),[]),Object(d.jsx)("div",{className:"modal-overlay",children:Object(d.jsxs)("form",{className:"modal",onSubmit:a(n),children:[Object(d.jsx)("button",{className:"modal__close-modal",type:"button",onClick:t,children:Object(d.jsx)("img",{src:f,alt:"close-icon"})}),Object(d.jsx)("h1",{children:"Add custom dish"}),Object(d.jsx)("input",Object(b.a)(Object(b.a)({},i("title",{required:!0,minLength:3})),{},{type:"text",placeholder:"Dish title"})),r.title&&Object(d.jsx)("span",{children:"This entry cannot be less than 3 characters"}),Object(d.jsx)("textarea",Object(b.a)(Object(b.a)({},i("recipe",{required:!0,minLength:5})),{},{placeholder:"Dish description..."})),r.recipe&&Object(d.jsx)("span",{children:"This entry cannot be less than 5 characters"}),Object(d.jsx)("button",{type:"submit",className:"modal__submit",children:"Add custom dish"})]})})}),x=n(5),v=function(){var e=localStorage.getItem("dishes");return e?JSON.parse(e):[]},g=function(e){var t=v();t.push(e),localStorage.setItem("dishes",JSON.stringify(t))},N=n.p+"static/media/plus-icon.cb2b492d.svg",y=(n(40),function(){var e=function(){var e=Object(c.useState)(v()),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),a=Object(l.a)(i,2),r=a[0],o=a[1],d=document.getElementById("portal"),j=function(){return o((function(e){return!e}))};return{favouritesDishes:n,isModal:r,portal:d,onSubmit:function(e){var t=e.title,n=e.recipe,c={id:Date.now(),title:t,recipe:n};console.log(n),s((function(e){return[].concat(Object(x.a)(e),[c])})),g(c),j()},hendleModal:j}}(),t=e.favouritesDishes,n=e.isModal,s=e.portal,a=e.onSubmit,r=e.hendleModal;return Object(d.jsxs)("div",{className:"favourites",children:[t.map((function(e){return Object(d.jsx)(m,Object(b.a)({},e),e.id?e.id:e.title+Date.now())})),Object(d.jsx)("button",{className:"favourites__add-recipe",onClick:r,children:Object(d.jsx)("img",{src:N,alt:"Plus Recipe"})}),n&&Object(i.createPortal)(Object(d.jsx)(p,{hendleModal:r,onSubmit:a}),s)]})}),S=(n(41),function(e){var t=e.onSkip,n=e.onLike;return Object(d.jsxs)("div",{className:"button-group",children:[Object(d.jsx)("button",{onClick:t,children:"Skip"}),Object(d.jsx)("button",{onClick:n,children:"Like"})]})}),k=n(2),w=n.n(k),_=n(10),D=function(){var e=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.themealdb.com/api/json/v1/1/random.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.useState)({id:"",title:"",recipe:""}),t=Object(l.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){i()}),[]);var i=function(){D().then((function(e){s(function(e){var t=Object(l.a)(e.meals,1)[0];return console.log(t),{id:t.idMeal||Date.now(),dishImg:t.strMealThumb,title:t.strMeal,recipe:t.strInstructions}}(e))}))};return{randomDish:n,onSkip:function(){i()},onLike:function(){g(n),i()}}},I=(n(42),function(){var e=M(),t=e.randomDish,n=e.onSkip,c=e.onLike;return Object(d.jsx)("div",{className:"random-dish",children:Object(d.jsxs)("div",{className:"random-dish__wrapper",children:[Object(d.jsx)(m,Object(b.a)({},t)),Object(d.jsx)(S,{onLike:c,onSkip:n})]})})}),L=function(){return Object(d.jsxs)(r.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",component:I,exact:!0}),Object(d.jsx)(o.a,{path:"/favourites",component:y})]})]})};n(43);a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.505fb094.chunk.js.map